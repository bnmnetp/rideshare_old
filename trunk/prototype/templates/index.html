<!--
  copyright (c) 2009 Google inc.

  You are free to copy and use this sample.
  License can be found here: http://code.google.com/apis/ajaxsearch/faq/#license
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html;    charset=utf-8"/>
    <link rel="stylesheet" href="static/style.css" type="text/css" media="screen" />
    <title>Luther College Rideshare</title>
    <script src="static/functions.js" type="text/javascript"></script>
    <script src="static/json-template.js" type="text/javascript"></script>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;sensor=false&amp;key={{mapkey}}" type="text/javascript"></script>
 </head>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-15355461-1");
pageTracker._trackPageview();
} catch(err) {}
</script>


<body onload="initialize()" onunload="GUnload()" style="font-family: Arial;border: 0 none;">
    <div id="titleblock">
    <h1>Luther College Rideshare</h1>
<div id="navbar">
<ul>
<li>
Welcome, {{nick}}
</li>
<li>
<a href="{{logout}}">sign out</a>
</li>
<li>
<a href="/home">Your Rides</a>
</li>
<li>
<a href="/static/help.html">Help</a>
</li>
</ul>
</div>
    </div>
   <div id="instructions" class="clearfix">
<table>
<tr>
<td width=50%>
       Click anywhere on the map to create a
       destination or starting point. You may want to zoom in first. You can
       add yourself to a ride by clicking on one of the red or
       green pushpins on the map.  <br><br>
       Enter an address or filter the pushpins by date using the
       controls on the right.
{% if message %}
    <p>{{ message }}</p>
{% endif %}

</td>
<td id="filterside">

   <form action="#" onsubmit="showAddress(this.address.value); return false">
       Enter an address or city, state to create a ride:
         <input type="text" size="60" name="address" value="700 College Dr., Decorah, IA" />
         <input type="submit" value="Go!" />
    </form>

<!--  Date Filtering Form  -->

<table id="begend">
<form name="dateForm">
<tr>
<td>
      Beginning: 
</td>
<td>
      <select name="imonth" id="imonth" onChange="changeDays(document.forms.dateForm.iday, this); return false;">
        <script type="text/javascript">{monthOptions();}</script>
      </select>
      <select name="iday" id="iday"> <!-- Populated in later script -->
      </select>
      <select name="iyear" id="iyear">
        <script type="text/javascript">
          {yearOptions();}
        </script>
      </select>
</td>
</tr>

<tr>
<td>
      Ending:
</td>
<td>
      <select name="fmonth" id="fmonth" onChange="changeDays(document.forms.dateForm.fday, this); return false;">
        <script type="text/javascript">{monthOptions();}</script>
      </select>
      <select name="fday" id="fday"> <!-- Populated in later script -->
      </select>
      <select name="fyear" id="fyear">
        <script type="text/javascript">
          {
            yearOptions();
            
            // Populate the two day pulldown menus
            var select1 = document.forms.dateForm.iday;
            var select2 = document.forms.dateForm.fday;
            for (var i = 0; i < 31; i++)
            {
              addOption(select1, i, i+1);
              addOption(select2, i, i+1);
            }
          }
        </script>
      </select>
</td>
</tr>
<tr>
<td>
      <input type="button" value="Show Matching Rides" 
               onclick="changeDates(document.getElementById('imonth').options.valueOf().selectedIndex,
		document.getElementById('iday').options.valueOf().selectedIndex,
		document.getElementById('iyear').options.valueOf().selectedIndex,
		document.getElementById('fmonth').options.valueOf().selectedIndex,
		document.getElementById('fday').options.valueOf().selectedIndex,
		document.getElementById('fyear').options.valueOf().selectedIndex);"
/>
</td></tr>
</table>
    </form>


</td>
</table>

</div>
<div style="clear: both;"></div>

<div id="map_canvas" ></div>

<div id="rtablehead">
<br />
<h2>All Available Rides.</h2>
<p>Click Destination to join</p>
</div>

<div id="ridelist">
    <table border="-1" id="rideTable">
      <tr>
        <th>Driver's Name</th>
        <th>Additional Passengers</th>
        <th>Starting Point</th>
        <th>Destination</th>
        <th>Time of Departure</th>
        <th>Comments</th>
      </tr>
    </table>
</div>
 </body>
</html>
